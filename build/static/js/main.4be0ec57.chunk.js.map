{"version":3,"sources":["components/Counter/Counter.module.css","components/Publication/Publications.module.css","components/Counter/Counter.js","components/Controls/Controls.js","components/Publication/Publication.js","components/Reader/Reader.js","components/App/App.js","index.js","components/Controls/Controls.module.css"],"names":["module","exports","Counter","lastPage","currentPage","className","styles","counter","Controls","onIncrement","onDecrement","controls","type","disabled","button","onClick","Publication","publication","title","text","Reader","state","pageNumber","handleIncrement","history","props","push","pathname","search","setState","prevState","handleDecrement","this","location","parsedQuery","qs","parse","item","publications","length","replace","Number","items","totalPublications","reader","Component","App","path","render","to","ReactDOM","document","getElementById"],"mappings":"8EACAA,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,YAAc,oC,6OCiBjBC,EAdC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YAC3B,OACE,yBAAKC,UAAWC,IAAOC,SACrB,2BACGH,EADH,IACiBD,K,gBC0BRK,EA9BE,SAAC,GAAyD,IAAvDC,EAAsD,EAAtDA,YAAaC,EAAyC,EAAzCA,YAAaN,EAA4B,EAA5BA,YAAaD,EAAe,EAAfA,SACzD,OACE,6BAASE,UAAWC,IAAOK,UACzB,4BACEC,KAAK,SACLC,SAA0B,IAAhBT,EACVC,UAAWC,IAAOQ,OAClBC,QAASL,GAJX,kCAQA,4BACEE,KAAK,SACLC,SAAUT,IAAgBD,EAC1BE,UAAWC,IAAOQ,OAClBC,QAASN,GAJX,0C,iBCMSO,EAjBK,SAAC,GAAD,IAAGC,EAAH,EAAGA,YAAab,EAAhB,EAAgBA,YAAhB,OAClB,6BAASC,UAAWC,IAAOW,aACzB,4BACGb,EADH,IACiBa,EAAYC,OAE7B,2BAAID,EAAYE,Q,mPCKCC,E,2MAoBnBC,MAAQ,CACNC,WAAY,G,EA2BdC,gBAAkB,WAAO,IACfC,EAAY,EAAKC,MAAjBD,QACAF,EAAe,EAAKD,MAApBC,WAERE,EAAQE,KAAK,CACXC,SAAU,UACVC,OAAO,SAAD,OAAWN,EAAa,KAEhC,EAAKO,UAAS,SAAAC,GAAS,MAAK,CAAER,WAAYQ,EAAUR,WAAa,O,EAGnES,gBAAkB,WAAO,IACfP,EAAY,EAAKC,MAAjBD,QACAF,EAAe,EAAKD,MAApBC,WAERE,EAAQE,KAAK,CACXC,SAAU,UACVC,OAAO,SAAD,OAAWN,EAAa,KAEhC,EAAKO,UAAS,SAAAC,GAAS,MAAK,CAAER,WAAYQ,EAAUR,WAAa,O,mFA3C9C,IAAD,EACYU,KAAKP,MAA3BQ,EADU,EACVA,SAAUT,EADA,EACAA,QACZU,EAAcC,IAAGC,MAAMH,EAASL,QAAQS,KAE5CH,EAAc,GACdA,EAAcI,EAAaC,QAC3BL,GAAe,EAEfV,EAAQgB,Q,yVAAR,IACKP,EADL,CAEEL,OAAQ,YAKRM,GACFF,KAAKH,SAAS,CACZP,WAAYmB,OAAOP,O,+BA6Bf,IACAZ,EAAeU,KAAKX,MAApBC,WACAoB,EAAUV,KAAKP,MAAfiB,MACFC,EAAoBD,EAAMH,OAChC,OACE,yBAAKlC,UAAWC,IAAOsC,QACrB,kBAAC,EAAD,CACEnC,YAAauB,KAAKT,gBAClBb,YAAasB,KAAKD,gBAClB3B,YAAakB,EACbnB,SAAUwC,IAEZ,kBAAC,EAAD,CAASxC,SAAUwC,EAAmBvC,YAAakB,IACnD,kBAAC,EAAD,CACEL,YAAayB,EAAMpB,EAAa,GAChClB,YAAakB,S,GArFauB,aCerBC,EAtBH,WACV,OACE,oCACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,KAAK,UAELC,OAAQ,SAAAvB,GAAK,OAAI,kBAAC,EAAD,iBAAYA,EAAZ,CAAmBiB,MAAOJ,QAE7C,kBAAC,IAAD,CACEW,GAAI,CACFtB,SAAU,UACVC,OAAQ,iB,MCftBsB,IAASF,OAAO,kBAAC,EAAD,MAASG,SAASC,eAAe,U,qkgBCJjDpD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,yBAAyB,SAAW,8B","file":"static/js/main.4be0ec57.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__1pCgS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publications_publication__3er1n\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Counter.module.css';\r\n\r\nconst Counter = ({ lastPage, currentPage }) => {\r\n  return (\r\n    <div className={styles.counter}>\r\n      <p>\r\n        {currentPage}/{lastPage}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nCounter.propTypes = {\r\n  lastPage: PropTypes.number.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n};\r\nexport default Counter;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Controls.module.css';\r\n\r\nconst Controls = ({ onIncrement, onDecrement, currentPage, lastPage }) => {\r\n  return (\r\n    <section className={styles.controls}>\r\n      <button\r\n        type=\"button\"\r\n        disabled={currentPage === 1}\r\n        className={styles.button}\r\n        onClick={onDecrement}\r\n      >\r\n        Назад\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        disabled={currentPage === lastPage}\r\n        className={styles.button}\r\n        onClick={onIncrement}\r\n      >\r\n        Вперед\r\n      </button>\r\n    </section>\r\n  );\r\n};\r\n\r\nControls.propTypes = {\r\n  onIncrement: PropTypes.func.isRequired,\r\n  onDecrement: PropTypes.func.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n  lastPage: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Controls;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Publications.module.css';\r\n\r\nconst Publication = ({ publication, currentPage }) => (\r\n  <article className={styles.publication}>\r\n    <h1>\r\n      {currentPage}.{publication.title}\r\n    </h1>\r\n    <p>{publication.text}</p>\r\n  </article>\r\n);\r\n\r\nPublication.propTypes = {\r\n  currentPage: PropTypes.number.isRequired,\r\n  publication: PropTypes.shape({\r\n    title: PropTypes.string.isRequired,\r\n    text: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default Publication;\r\n","/* import note-modules */\nimport React, { Component } from 'react';\nimport qs from 'query-string';\nimport PropTypes from 'prop-types';\nimport publications from '../../data/publications.json';\n\n/* import component */\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\nimport Publication from '../Publication/Publication';\n\n/* import CSS */\nimport styles from './Reader.module.css';\n\nexport default class Reader extends Component {\n  static propTypes = {\n    items: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        text: PropTypes.string.isRequired,\n      }).isRequired,\n    ).isRequired,\n    location: PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string.isRequired,\n    }).isRequired,\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired,\n    }).isRequired,\n  };\n\n  // eslint-disable-next-line react/sort-comp\n  state = {\n    pageNumber: 3,\n  };\n\n  componentDidMount() {\n    const { location, history } = this.props;\n    const parsedQuery = qs.parse(location.search).item;\n    if (\n      parsedQuery < 1 ||\n      parsedQuery > publications.length ||\n      parsedQuery <= 0\n    ) {\n      history.replace({\n        ...location,\n        search: 'item=1',\n      });\n      return;\n    }\n\n    if (parsedQuery) {\n      this.setState({\n        pageNumber: Number(parsedQuery),\n      });\n    }\n  }\n\n  /* event handler */\n  // eslint-disable-next-line react/sort-comp\n  handleIncrement = () => {\n    const { history } = this.props;\n    const { pageNumber } = this.state;\n\n    history.push({\n      pathname: '/reader',\n      search: `?item=${pageNumber + 1}`,\n    });\n    this.setState(prevState => ({ pageNumber: prevState.pageNumber + 1 }));\n  };\n\n  handleDecrement = () => {\n    const { history } = this.props;\n    const { pageNumber } = this.state;\n\n    history.push({\n      pathname: '/reader',\n      search: `?item=${pageNumber - 1}`,\n    });\n    this.setState(prevState => ({ pageNumber: prevState.pageNumber - 1 }));\n  };\n\n  render() {\n    const { pageNumber } = this.state;\n    const { items } = this.props;\n    const totalPublications = items.length;\n    return (\n      <div className={styles.reader}>\n        <Controls\n          onIncrement={this.handleIncrement}\n          onDecrement={this.handleDecrement}\n          currentPage={pageNumber}\n          lastPage={totalPublications}\n        />\n        <Counter lastPage={totalPublications} currentPage={pageNumber} />\n        <Publication\n          publication={items[pageNumber - 1]}\n          currentPage={pageNumber}\n        />\n      </div>\n    );\n  }\n}\n","/* import note-modules */\r\nimport React from 'react';\r\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\r\n\r\nimport Reader from '../Reader/Reader';\r\nimport publications from '../../data/publications.json';\r\n\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route\r\n            path=\"/reader\"\r\n            /* eslint-disable-next-line */\r\n            render={props => <Reader {...props} items={publications} />}\r\n          />\r\n          <Redirect\r\n            to={{\r\n              pathname: '/reader',\r\n              search: '?item=1',\r\n            }}\r\n          />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App/App';\r\nimport 'normalize.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2jhbm\",\"button\":\"Controls_button__27dAG\",\"disabled\":\"Controls_disabled__UTHUL\"};"],"sourceRoot":""}